<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Fangxian">
<meta name="dcterms.date" content="2023-06-04">

<title>ISSS608-VAA - Take Home Exercise 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<link href="../../site_libs/vis-9.1.0/vis-network.min.css" rel="stylesheet">
<script src="../../site_libs/vis-9.1.0/vis-network.min.js"></script>
<script src="../../site_libs/visNetwork-binding-2.1.2/visNetwork.js"></script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html">Take-home Exercise</a></li><li class="breadcrumb-item"><a href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html">Take Home Exercise 2</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../../">ISSS608-VAA</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Take-home Exercise</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Take Home Exercise 1</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex02.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Take Home Exercise 2</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../../Take-home_Ex/Take-home_Ex03/Take-home_Ex03.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Take Home Exercise 3</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#task" id="toc-task" class="nav-link active" data-scroll-target="#task">Task</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">Data Preparation</a>
  <ul class="collapse">
  <li><a href="#load-packages" id="toc-load-packages" class="nav-link" data-scroll-target="#load-packages">Load Packages</a></li>
  <li><a href="#data-importing-and-wraggling" id="toc-data-importing-and-wraggling" class="nav-link" data-scroll-target="#data-importing-and-wraggling">Data Importing and wraggling</a></li>
  </ul></li>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization">Data Visualization</a>
  <ul class="collapse">
  <li><a href="#plot-network-graph" id="toc-plot-network-graph" class="nav-link" data-scroll-target="#plot-network-graph">Plot Network Graph</a></li>
  <li><a href="#plot-temporal-graph" id="toc-plot-temporal-graph" class="nav-link" data-scroll-target="#plot-temporal-graph">Plot Temporal Graph</a></li>
  <li><a href="#insights" id="toc-insights" class="nav-link" data-scroll-target="#insights">Insights</a></li>
  </ul></li>
  <li><a href="#interactive-network-graph" id="toc-interactive-network-graph" class="nav-link" data-scroll-target="#interactive-network-graph">Interactive Network Graph</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take Home Exercise 2</h1>
<p class="subtitle lead">Uncover illegal, unreported, and unregulated (IUU) fishing activities through visual analytics</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Fangxian </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">June 4, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">July 20, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="task" class="level1">
<h1>Task</h1>
<p>Using the data provide by the VAST challenge, we are looking into the <a href="https://vast-challenge.github.io/2023/MC2.html">Mini-Challenge 2</a> (MC2) to identify compaines possibly engaged in illegal, unreported, and unregulated (IUU) fishing.</p>
<p>When looking into IUU, we need to understand transshipment plays crucial roles in facilitating IUU fishing. Fishing ships will transfer its catch to other ships which would launder the catch to other countries - presumably their won. According to <a href="https://www.oceansinc.earth/transshipment#:~:text=Transshipment%20can%20facilitate%20IUU%20fishing,fish%20to%20be%20%E2%80%9Claundered%E2%80%9D.">OCEANS</a>, as many as 20% of global fishing catch is from IUU sources.</p>
<p>In the MC2 also mentioned that, when comapnies caught fishing illegally will shut down but will then often start up again under a different name, below we will visualize temporal patterns to identify if there are companies like this.</p>
<p>Below, we will use Social Network Analysis (SNA) and other relevant tools to understand to observe if we could uncover suspicious IUU activities.</p>
</section>
<section id="data-preparation" class="level1">
<h1>Data Preparation</h1>
<section id="load-packages" class="level2">
<h2 class="anchored" data-anchor-id="load-packages">Load Packages</h2>
<p>The code chunk below uses&nbsp;<code>pacman::p_load()</code>&nbsp;to check if packages are installed. If they are, they will be launched into R. The packages installed are</p>
<ul>
<li><p><code>tidyverse</code>: A collection of core packages designed for data science, used extensively for data preparation and wrangling.</p></li>
<li><p><code>ggplot2</code>: Used for plotting different types of graphs.</p></li>
<li><p><code>ggthemes</code>: Provide additional themes for <code>ggplot2</code> .</p></li>
<li><p><code>jsonlite</code>: Used for loading json data file.</p></li>
<li><p><code>tidygraph</code>: Used for visualising network graph.</p></li>
<li><p><code>visNetwork</code>: Used for visualising interactive network graph.</p></li>
<li><p><code>ggrepel</code>: ggrepel provides geoms for&nbsp;<code>ggplot2</code>&nbsp;to repel overlapping text labels.</p></li>
<li><p><code>ggraph</code>: extension of <code>ggplot2</code></p></li>
<li><p><code>igraph</code>: Network Analysis and Visualization.</p></li>
</ul>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(jsonlite, tidygraph, ggraph, visNetwork, tidyverse, lubridate, ggplot2, ggthemes, igraph, ggrepel)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="data-importing-and-wraggling" class="level2">
<h2 class="anchored" data-anchor-id="data-importing-and-wraggling">Data Importing and wraggling</h2>
<p>Import the main MC2 data.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>MC2 <span class="ot">&lt;-</span> jsonlite<span class="sc">::</span><span class="fu">fromJSON</span>(<span class="st">"data/mc2_challenge_graph.json"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(MC2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>List of 5
 $ directed  : logi TRUE
 $ multigraph: logi TRUE
 $ graph     : Named list()
 $ nodes     :'data.frame': 34576 obs. of  4 variables:
  ..$ shpcountry: chr [1:34576] "Polarinda" NA "Oceanus" NA ...
  ..$ rcvcountry: chr [1:34576] "Oceanus" NA "Oceanus" NA ...
  ..$ dataset   : chr [1:34576] "MC2" "MC2" "MC2" "MC2" ...
  ..$ id        : chr [1:34576] "AquaDelight Inc and Son's" "BaringoAmerica Marine Ges.m.b.H." "Yu gan  Sea spray GmbH Industrial" "FlounderLeska Marine BV" ...
 $ links     :'data.frame': 5464378 obs. of  9 variables:
  ..$ arrivaldate     : chr [1:5464378] "2034-02-12" "2034-03-13" "2028-02-07" "2028-02-23" ...
  ..$ hscode          : chr [1:5464378] "630630" "630630" "470710" "470710" ...
  ..$ valueofgoods_omu: num [1:5464378] 141015 141015 NA NA NA ...
  ..$ volumeteu       : num [1:5464378] 0 0 0 0 0 0 0 0 0 0 ...
  ..$ weightkg        : int [1:5464378] 4780 6125 10855 11250 11165 11290 9000 19490 6865 19065 ...
  ..$ dataset         : chr [1:5464378] "MC2" "MC2" "MC2" "MC2" ...
  ..$ source          : chr [1:5464378] "AquaDelight Inc and Son's" "AquaDelight Inc and Son's" "AquaDelight Inc and Son's" "AquaDelight Inc and Son's" ...
  ..$ target          : chr [1:5464378] "BaringoAmerica Marine Ges.m.b.H." "BaringoAmerica Marine Ges.m.b.H." "-15045" "-15045" ...
  ..$ valueofgoodsusd : num [1:5464378] NA NA NA NA NA ...</code></pre>
</div>
</div>
<p>Run the below code chunk to preparing the node data. Upon looking into the node data, there are many missing data, to reduce the noise, we remove the missing data from here for further analysis.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>MC2_nodes <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(MC2<span class="sc">$</span>nodes) <span class="sc">%&gt;%</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id,shpcountry,rcvcountry)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(MC2_nodes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 34,576
Columns: 3
$ id         &lt;chr&gt; "AquaDelight Inc and Son's", "BaringoAmerica Marine Ges.m.b…
$ shpcountry &lt;chr&gt; "Polarinda", NA, "Oceanus", NA, "Oceanus", "Kondanovia", NA…
$ rcvcountry &lt;chr&gt; "Oceanus", NA, "Oceanus", NA, "Oceanus", "Utoporiana", NA, …</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(MC2_nodes))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>MC2_nodes_cleaned <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(MC2_nodes)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">is.na</span>(MC2_nodes_cleaned))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] FALSE</code></pre>
</div>
</div>
<p>Run the below code chunk to prepare edge data. <em>Month_Yr</em> and <em>Year</em> were extracted for the temporal analysis in the later part.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>MC2_edges <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(MC2<span class="sc">$</span>links) <span class="sc">%&gt;%</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">Date =</span> <span class="fu">as.Date</span>(arrivaldate),</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">Month_Yr =</span> <span class="fu">format</span>(Date, <span class="st">"%Y-%m"</span>),</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">Year =</span> <span class="fu">year</span>(Date)) <span class="sc">%&gt;%</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source, target, Date, Month_Yr, Year, hscode) <span class="sc">%&gt;%</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>Hscode is the Harmonized System with standardized numerical method of classifying traded products. Since we are interested in the fish related products, hscode that is related to fish and its products are shown in the table below.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="https://www.fao.org/3/cb3813en/cb3813en.pdf"><img src="data/fishhscode.PNG" class="img-fluid figure-img"></a></p>
</figure>
</div>
<p>Code chunk is run to filter all the hscode with fish related trades and identify the top 3 most traded fish products, namely,</p>
<ol type="1">
<li>306170: Other shirmps and prawns</li>
<li>304620: Catfish</li>
<li>160414: Tunas, Skipjack And Bonito (sarda Spp), Prepared Or Preserved, Whole Or In Pieces, But Not Minced</li>
</ol>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>distinct_hscode <span class="ot">&lt;-</span> <span class="fu">unique</span>(MC2_edges<span class="sc">$</span>hscode)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>filtered_hscode <span class="ot">&lt;-</span> distinct_hscode[<span class="fu">grepl</span>(<span class="st">"^30[1-8]|^160[4-5]|^2301|^1212|^1302|^1504|^151610|^151790"</span>,distinct_hscode)]</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>filtered_MC2_edges <span class="ot">&lt;-</span> MC2_edges[MC2_edges<span class="sc">$</span>hscode <span class="sc">%in%</span> filtered_hscode, ]</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>top_3_hscode <span class="ot">&lt;-</span> filtered_MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">count</span>(hscode) <span class="sc">%&gt;%</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(n)) <span class="sc">%&gt;%</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(hscode)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>top_3_hscode</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "306170" "304610" "160414"</code></pre>
</div>
</div>
<p>Code chunk below run to filter the edges involve the top 3 appeared hscodes.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>MC2_edges_aggregated <span class="ot">&lt;-</span> filtered_MC2_edges <span class="sc">%&gt;%</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(hscode <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"306170"</span>, <span class="st">"304610"</span>, <span class="st">"160414"</span>))<span class="sc">%&gt;%</span></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(source, target, hscode, Month_Yr, Year) <span class="sc">%&gt;%</span></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(<span class="at">weights =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(source<span class="sc">!=</span>target) <span class="sc">%&gt;%</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weights <span class="sc">&gt;</span> <span class="dv">10</span>) <span class="sc">%&gt;%</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(MC2_edges_aggregated)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 685
Columns: 6
$ source   &lt;chr&gt; "Adair Salmon ОАО Family", "Adriatic Tuna AS Solutions", "Adr…
$ target   &lt;chr&gt; "hǎi dǎn Corporation Wharf", "Caracola del Sol Services", "Ca…
$ hscode   &lt;chr&gt; "160414", "306170", "306170", "306170", "306170", "306170", "…
$ Month_Yr &lt;chr&gt; "2033-11", "2032-08", "2032-10", "2029-07", "2029-08", "2029-…
$ Year     &lt;dbl&gt; 2033, 2032, 2032, 2029, 2029, 2029, 2029, 2029, 2030, 2030, 2…
$ weights  &lt;int&gt; 11, 11, 14, 12, 12, 15, 12, 15, 11, 13, 11, 14, 11, 11, 11, 1…</code></pre>
</div>
</div>
<p>Run the below codes to ensure our nodes data is cleaned and ready to be used for visualization below.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>id1 <span class="ot">&lt;-</span> MC2_edges_aggregated <span class="sc">%&gt;%</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(source) <span class="sc">%&gt;%</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> source)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a>id2 <span class="ot">&lt;-</span> MC2_edges_aggregated <span class="sc">%&gt;%</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(target) <span class="sc">%&gt;%</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">id =</span> target)</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a>MC2_nodes_extracted <span class="ot">&lt;-</span> <span class="fu">rbind</span>(id1, id2) <span class="sc">%&gt;%</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">distinct</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="data-visualization" class="level1">
<h1>Data Visualization</h1>
<p>Run the below code to activate the graph</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>mc2_graph <span class="ot">&lt;-</span> <span class="fu">tbl_graph</span>(<span class="at">nodes =</span> MC2_nodes_extracted,</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>                       <span class="at">edges =</span> MC2_edges_aggregated,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">directed =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>For the graphs below, the nodes are the fishing companies and the edges (links) are amount of times they are interacting with other nodes.</p>
<p>As mentioned in the introduction, transshipment could be a way for ships to launder the IUU fishes, we plot the below graph, by filtering the nodes that has high in-degree. Nodes with high in-degree here means, it received a lot of shirmps/catfish/tuna from other ships.</p>
<section id="plot-network-graph" class="level2">
<h2 class="anchored" data-anchor-id="plot-network-graph">Plot Network Graph</h2>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span> (<span class="dv">1234</span>)</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(mc2_graph)<span class="sc">$</span>degree <span class="ot">&lt;-</span> <span class="fu">degree</span>(mc2_graph, <span class="at">mode =</span> <span class="st">"in"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(mc2_graph, <span class="st">'igraph'</span>, <span class="at">algorithm =</span> <span class="st">'fr'</span>) <span class="sc">+</span> </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">width =</span> weights), <span class="at">edge_alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> degree, <span class="at">color =</span> degree <span class="sc">&gt;</span> <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"steelblue"</span>, <span class="st">"red"</span>), </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Degree &lt;= 20"</span>, <span class="st">"Degree &gt; 20"</span>)) <span class="sc">+</span></span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> id, <span class="at">filter =</span> degree <span class="sc">&gt;</span> <span class="dv">20</span>), <span class="at">color =</span> <span class="st">'black'</span>, </span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> <span class="dv">3</span>, <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb17-12"><a href="#cb17-12" aria-hidden="true" tabindex="-1"></a>  ggforce<span class="sc">::</span><span class="fu">theme_no_axes</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>We are also interested to know the high out-degree nodes, and later in the interactive nodes, we can example if any of these high out-degree nodes actually supplies to the above high in-dgree nodes.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span> (<span class="dv">1234</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="fu">V</span>(mc2_graph)<span class="sc">$</span>degree <span class="ot">&lt;-</span> <span class="fu">degree</span>(mc2_graph, <span class="at">mode =</span> <span class="st">"out"</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggraph</span>(mc2_graph, <span class="st">'igraph'</span>, <span class="at">algorithm =</span> <span class="st">'fr'</span>) <span class="sc">+</span> </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_edge_link0</span>(<span class="fu">aes</span>(<span class="at">width =</span> weights), <span class="at">edge_alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_point</span>(<span class="fu">aes</span>(<span class="at">size =</span> degree, <span class="at">color =</span> degree <span class="sc">&gt;</span> <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_manual</span>(<span class="at">values =</span> <span class="fu">c</span>(<span class="st">"steelblue"</span>, <span class="st">"red"</span>), </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>                     <span class="at">breaks =</span> <span class="fu">c</span>(<span class="cn">FALSE</span>, <span class="cn">TRUE</span>), </span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>                     <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">"Degree &lt;= 20"</span>, <span class="st">"Degree &gt; 20"</span>)) <span class="sc">+</span></span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_node_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> id, <span class="at">filter =</span> degree <span class="sc">&gt;</span> <span class="dv">20</span>), <span class="at">color =</span> <span class="st">'black'</span>, </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>                 <span class="at">size =</span> <span class="dv">3</span>, <span class="at">repel =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>  ggforce<span class="sc">::</span><span class="fu">theme_no_axes</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="plot-temporal-graph" class="level2">
<h2 class="anchored" data-anchor-id="plot-temporal-graph">Plot Temporal Graph</h2>
<p>Based on the network graphs above, we realized that weights become significant when its more than 15, hence, below we plot the calendar heatmap for companies have higher activities (weight &gt;= 15) to understand their trading patterns over time.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>MC2_edges_aggregated<span class="sc">$</span>Month_Yr <span class="ot">&lt;-</span> <span class="fu">as.Date</span>(<span class="fu">paste0</span>(MC2_edges_aggregated<span class="sc">$</span>Month_Yr, <span class="st">"-01"</span>), <span class="at">format =</span> <span class="st">"%Y-%m-%d"</span>)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>top_weights <span class="ot">&lt;-</span> MC2_edges_aggregated<span class="sc">%&gt;%</span></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(weights <span class="sc">&gt;=</span> <span class="dv">15</span>)</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(top_weights, <span class="fu">aes</span>(<span class="at">x=</span>Month_Yr, <span class="at">y=</span>target, <span class="at">fill=</span>weights))<span class="sc">+</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">colour=</span><span class="st">"White"</span>, <span class="at">show.legend=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()<span class="sc">+</span></span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_distiller</span>(<span class="at">palette=</span><span class="st">"Spectral"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-11-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a> <span class="fu">ggplot</span>(top_weights, <span class="fu">aes</span>(<span class="at">x=</span>Month_Yr, <span class="at">y=</span>source, <span class="at">fill=</span>weights))<span class="sc">+</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_tile</span>(<span class="at">colour=</span><span class="st">"White"</span>, <span class="at">show.legend=</span><span class="cn">FALSE</span>)<span class="sc">+</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()<span class="sc">+</span></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_distiller</span>(<span class="at">palette=</span><span class="st">"Spectral"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="insights" class="level2">
<h2 class="anchored" data-anchor-id="insights">Insights</h2>
<p>Based on the network graphs and the heatmaps rom the above two network graph, some companies have high in/out degree but their activties are consistent across the time, hence we would think that those are the legal companies, and I have identified some prominent company pairs in the table below that caught my attention with their abrupt activities in the heatmap.</p>
<table class="table">
<colgroup>
<col style="width: 54%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>High in-degree companies</th>
<th>High out-degree companies</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Yu xian SRL Industrial</td>
<td>Kerala Market - Ges.m.b.H. Cargo</td>
</tr>
<tr class="even">
<td>Volga River LLC Enterprises</td>
<td>Estrella de la Costa SRL</td>
</tr>
<tr class="odd">
<td>Sea Breeze Corporation Marine sanctuary</td>
<td>Manipur Market Corporation Cargo</td>
</tr>
<tr class="even">
<td>Sea Turtle GmbH &amp; Co.&nbsp;KG</td>
<td>Dutch Eel AB Holdings</td>
</tr>
</tbody>
</table>
<p>These companies form the demand-supply pairs, as seemed in the network graphs, and from the calendar heatmap, we can see their activtities match - both will be active in the same period and then disappear after “getting caught”. These could be suspicious companies that we should look into more details in the personels involved to see if there are any leads.</p>
</section>
</section>
<section id="interactive-network-graph" class="level1">
<h1>Interactive Network Graph</h1>
<p>Below visNetwork() is used for the interactive network graph, so from the above identified companies, we are able to select those companies by the id dropdown to observe the network around them.</p>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>edges_df <span class="ot">&lt;-</span> mc2_graph<span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(edges) <span class="sc">%&gt;%</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as_tibble</span>()</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>nodes_df <span class="ot">&lt;-</span> mc2_graph <span class="sc">%&gt;%</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">activate</span>(nodes) <span class="sc">%&gt;%</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.tibble</span>() <span class="sc">%&gt;%</span></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">label =</span> id) <span class="sc">%&gt;%</span></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id=</span><span class="fu">row_number</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, label) <span class="sc">%&gt;%</span></span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">group =</span> label)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">visNetwork</span>(nodes_df,</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>           edges_df) <span class="sc">%&gt;%</span></span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visIgraphLayout</span>(<span class="at">layout =</span> <span class="st">"layout_with_fr"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visEdges</span>(<span class="at">arrows =</span> <span class="st">"to"</span>, </span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>           <span class="at">smooth =</span> <span class="fu">list</span>(<span class="at">enabled =</span> <span class="cn">TRUE</span>, </span>
<span id="cb22-6"><a href="#cb22-6" aria-hidden="true" tabindex="-1"></a>                         <span class="at">type =</span> <span class="st">"curvedCW"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb22-7"><a href="#cb22-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visOptions</span>(<span class="at">highlightNearest =</span> <span class="cn">TRUE</span>,</span>
<span id="cb22-8"><a href="#cb22-8" aria-hidden="true" tabindex="-1"></a>             <span class="at">nodesIdSelection =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb22-9"><a href="#cb22-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">visLayout</span>(<span class="at">randomSeed =</span> <span class="dv">123</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="visNetwork html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-3654758b61567b2dffb3" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-3654758b61567b2dffb3">{"x":{"nodes":{"id":[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105],"label":["Adair Salmon ОАО Family","Adriatic Tuna AS Solutions","Ancla de Oro N.V.","Ancla del Este AS","Aqua Adventures Carriers Seabed","Aqua Azul LC International","Bahía del Sol Kga Consulting","Balkan Cat ОАО Transport","Baltic Catch Oyj Shipping","Baltic Sprat Pic Freight ","Blue Horizon Family &","Cape Verde Islands  Sp Transportation","Chuan gou  N.V. Delivery","Coral del Mar Incorporated","Coral del Mar Logistics","Costa del Mar Ges.m.b.H. Marine biology","Daniel Ferry N.V. Transit","Danish Plaice BV Investment","Danish Plaice Ltd. Liability Co Logistics","Dutch Eel AB Holdings","Dutch Mussels Tidepool ОАО Express","Estrella de la Costa SRL","French  Seabed S.p.A. Forwading","Greek Sea Bass Company Express","Irish Scallop Corporation Transport","Isla del Mar Ltd. Liability Co Enterprises","Kerala  Market - Ges.m.b.H. Cargo","Lake Tana  & Son's","Manipur  Market Corporation Cargo","Mar de la Costa Sagl","Mar de la Felicidad NV","Mar de la Luz Ltd. Liability Co","Mar de la Vida S.p.A.","Mar del Oeste Cruise ship","Marine Masterminds SE Saltwater","Marine Muse Ltd. Corporation Catfish","Neptune's Harvest A/S Hijiki","Neptune's Realm NV Navigation","Náutica del Sol Brothers","Ocean Emporium Pic Holdings","OceanSavor Surf Limited Liability Company Logistics","Oceanfront Oases Co Shipping","OceanicOrigin Foods Co Consulting","Ola de la Costa Ges.m.b.H.","Olas del Mar N.V.","Playa de Arena OJSC Express","Playa de Arena SRL","Playa del Mar Corporation","Rift Valley fishery Sagl","Saltwater Sanctuary Company Cargo","Sea Striders ОАО Industrial","Seaside Strolls A/S Marine ecology","Seaside Summit SE Merchants","Shou gan  Oyj Overseas","South Ltd. Liability Co","Spanish Anchovy OJSC International","Spanish Shrimp A/S Marine","Surf and Sand Ltd. Liability Co Worldwide","Tamil Nadu s Barge","The Salty Dog LLC","Tripura  Market S.A. de C.V.","Tristen Jetty Company Solutions","Turkish Sword NV Ocean","Uttarakhand   Tidepool Oyj International","Water Wonders Plc Cargo","Wave Watchers Ltd. Liability Co","hǎi dǎn Corporation Wharf","Caracola del Sol Services","Pao gan SE Seal","Ancla del Este Merchants","Caracola del Este Ltd. Liability Co","Arunachal Pradesh s Brine","Mar del Placer Manatee","The Sea Turtle GmbH & Co. KG","Costa de la Felicidad Shipping","Madagascar Coast  AG Freight ","Mar del Este CJSC","Orange River   Incorporated Shipping","-564","Olas del Sur Ltd","AquaDelight N.V. Coral Reef","SeaBass &  SE Tanker","Arena del Mar Marine Marine biology","Kong zhong diao yu  Ges.m.b.H.","páng xiè S.A. de C.V. Line","Pao gan LC Freight ","Volga River LLC Enterprises","Himachal Pradesh  BV Holdings","Caracola Azul Ltd. Corporation","Spanish Anchovy SE Marine","Yu xian  SRL Industrial","Isla del Tesoro GmbH & Co. KG Chart","Sea Breeze Corporation Marine sanctuary","Water Wonders AG Transport","Lake Tanganyika  Inc Jetty","Isla del Mar NV Forwading","Rybachit Sagl and Son's","Coral Cove BV Delivery","Panope Limited Liability Company","Sea Breezes GmbH & Co. KG Shark","Caracola del Mar A/S Line","Mar del Norte BV","Tripura  Pier N.V. Solutions","Assam  Market Incorporated Tanker","Saltwater Supreme ОАО Forwading"],"group":["Adair Salmon ОАО Family","Adriatic Tuna AS Solutions","Ancla de Oro N.V.","Ancla del Este AS","Aqua Adventures Carriers Seabed","Aqua Azul LC International","Bahía del Sol Kga Consulting","Balkan Cat ОАО Transport","Baltic Catch Oyj Shipping","Baltic Sprat Pic Freight ","Blue Horizon Family &","Cape Verde Islands  Sp Transportation","Chuan gou  N.V. Delivery","Coral del Mar Incorporated","Coral del Mar Logistics","Costa del Mar Ges.m.b.H. Marine biology","Daniel Ferry N.V. Transit","Danish Plaice BV Investment","Danish Plaice Ltd. Liability Co Logistics","Dutch Eel AB Holdings","Dutch Mussels Tidepool ОАО Express","Estrella de la Costa SRL","French  Seabed S.p.A. Forwading","Greek Sea Bass Company Express","Irish Scallop Corporation Transport","Isla del Mar Ltd. Liability Co Enterprises","Kerala  Market - Ges.m.b.H. Cargo","Lake Tana  & Son's","Manipur  Market Corporation Cargo","Mar de la Costa Sagl","Mar de la Felicidad NV","Mar de la Luz Ltd. Liability Co","Mar de la Vida S.p.A.","Mar del Oeste Cruise ship","Marine Masterminds SE Saltwater","Marine Muse Ltd. Corporation Catfish","Neptune's Harvest A/S Hijiki","Neptune's Realm NV Navigation","Náutica del Sol Brothers","Ocean Emporium Pic Holdings","OceanSavor Surf Limited Liability Company Logistics","Oceanfront Oases Co Shipping","OceanicOrigin Foods Co Consulting","Ola de la Costa Ges.m.b.H.","Olas del Mar N.V.","Playa de Arena OJSC Express","Playa de Arena SRL","Playa del Mar Corporation","Rift Valley fishery Sagl","Saltwater Sanctuary Company Cargo","Sea Striders ОАО Industrial","Seaside Strolls A/S Marine ecology","Seaside Summit SE Merchants","Shou gan  Oyj Overseas","South Ltd. Liability Co","Spanish Anchovy OJSC International","Spanish Shrimp A/S Marine","Surf and Sand Ltd. Liability Co Worldwide","Tamil Nadu s Barge","The Salty Dog LLC","Tripura  Market S.A. de C.V.","Tristen Jetty Company Solutions","Turkish Sword NV Ocean","Uttarakhand   Tidepool Oyj International","Water Wonders Plc Cargo","Wave Watchers Ltd. Liability Co","hǎi dǎn Corporation Wharf","Caracola del Sol Services","Pao gan SE Seal","Ancla del Este Merchants","Caracola del Este Ltd. Liability Co","Arunachal Pradesh s Brine","Mar del Placer Manatee","The Sea Turtle GmbH & Co. KG","Costa de la Felicidad Shipping","Madagascar Coast  AG Freight ","Mar del Este CJSC","Orange River   Incorporated Shipping","-564","Olas del Sur Ltd","AquaDelight N.V. Coral Reef","SeaBass &  SE Tanker","Arena del Mar Marine Marine biology","Kong zhong diao yu  Ges.m.b.H.","páng xiè S.A. de C.V. Line","Pao gan LC Freight ","Volga River LLC Enterprises","Himachal Pradesh  BV Holdings","Caracola Azul Ltd. Corporation","Spanish Anchovy SE Marine","Yu xian  SRL Industrial","Isla del Tesoro GmbH & Co. KG Chart","Sea Breeze Corporation Marine sanctuary","Water Wonders AG Transport","Lake Tanganyika  Inc Jetty","Isla del Mar NV Forwading","Rybachit Sagl and Son's","Coral Cove BV Delivery","Panope Limited Liability Company","Sea Breezes GmbH & Co. KG Shark","Caracola del Mar A/S Line","Mar del Norte BV","Tripura  Pier N.V. Solutions","Assam  Market Incorporated Tanker","Saltwater Supreme ОАО Forwading"],"x":[0.928235857934839,0.37747484647689,0.305162870727496,0.938144061207904,0.552460084011118,0.198844580958071,0.0135380230586071,0.811211938584368,0.83074486388423,-0.51844815194839,0.0290611922074036,0.255315287798498,0.23673908466724,0.934721383064897,0.43620746701471,-0.444530146151666,-0.101528637510349,0.364272275398163,-1,-0.44849313384086,0.51724131389618,-0.204603578988412,0.352933932641295,0.0475323927566498,-0.719883342602968,-0.549486800164312,0.715862281813753,-0.220105439143004,-0.142924534431709,-0.732616403912367,-0.864515665652161,-0.0259272366121766,-0.00287193849651513,0.54094950721454,0.779433279069096,-0.190241126199496,-0.618327223208522,-0.0450184728799126,-0.333359314538891,0.420431551830629,0.16693020105487,0.362241460355476,-0.807703212517777,0.16393214159084,0.42887642111924,0.363975789820778,0.0250916905144065,0.314620772288148,-0.56580068740188,0.174624469819165,-0.972807079733563,-0.389289063239953,-0.213712608325452,-0.743071418687763,0.903308310207411,0.807682614926064,0.240531449442177,0.822239842700205,-0.435400700341432,-0.308477259581127,-0.791785177153621,0.142574766000663,0.0928860361836827,-0.0348290912114463,0.222390423111456,0.200355979909498,0.714591983521548,0.316711049861309,0.343310488324049,1,0.329971960404097,0.231873563753322,0.0146764723920199,-0.382537812344483,-0.00519537052342989,-0.0368367881238705,0.180243931988965,-0.0720830179001642,0.386835405051895,0.172758345121122,-0.115922955757945,-0.377550692590727,-0.983683942780779,-0.696610520159776,-0.50680165966658,0.359149839649667,-0.206181468838441,-0.638294654786977,0.605518127759424,0.820263200971565,0.74494172895922,-0.438474830296237,-0.170837625720976,-0.94153691483121,-0.693144458408328,-0.125455697263507,0.0483897707344061,-0.922240175760796,-0.771960789529756,-0.801996975516434,0.483077674514346,0.547218596079693,-0.871243173515024,0.744319551956734,-0.400719925998205],"y":[0.00282470393504552,-0.168213590494546,0.990380081822631,-0.39943663400416,0.260542658953702,-0.523400407437844,-0.560732765510912,0.012051259859033,-0.0948331106793191,-0.535708719160163,0.119335117929148,-0.91447228159448,0.152255664938598,0.112746820939538,-0.00268961065267226,0.557592580389271,0.215701462029697,0.896177581587416,-0.138672860172935,-0.362420332299495,-0.428032577175332,0.436829600999287,-0.616068228693588,-0.837420154623828,0.706384534448827,0.46666898828405,0.738484921027852,0.0371920444343803,-0.585336919159582,-0.289434279472416,0.562601148868208,-0.430216711630841,-0.257869150817673,-0.148952170445801,0.134483578967315,-0.106674996150728,-0.768956870880417,0.99450456688413,0.387943466081981,-0.0797403738359316,-0.989774741893492,0.303839088355424,0.307618094497125,0.341220268067423,0.311317928651549,0.070134733695332,-1,-0.0528483031539757,0.834760557186888,0.475276384607503,0.0429305188182947,-0.580590985861882,0.672483136808907,-0.666157296375114,0.212078237585996,-0.571810964290953,-0.0922066153967903,0.277791243659028,-0.466452621889525,0.914140345068312,-0.374336574726637,0.253463623117059,0.876363041398975,-0.913737660976371,-0.827630474018255,0.244985958220965,0.0889009301083519,0.00339800253008948,0.931015198787092,-0.315288757363303,0.167950631451202,-0.545291427809611,-0.381751681767408,-0.384781026857375,0.00466518317340658,0.0869179573349508,0.215054272505459,0.141687764152284,-0.887079454564684,-0.916226268800232,0.293886188605458,0.471494617188685,-0.236664238617582,-0.335109959686082,-0.327431752999302,-0.287352081346043,0.495427529366109,0.778865903127659,0.812890683867855,0.639169449841283,0.75661519490706,0.0315293563795058,-0.623940905459301,0.492010898580664,-0.708229382416633,1,0.972947694978341,0.267420060159625,0.356876082641992,0.256217163869334,0.521731022194158,0.420685222556792,0.00334091366573452,-0.648336730157887,0.94643261307209]},"edges":{"from":[1,2,2,3,3,3,3,3,3,4,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,8,8,9,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,15,15,15,15,15,16,16,16,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,24,25,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,31,32,32,32,32,32,32,32,32,32,32,32,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,34,35,35,35,35,35,35,36,37,37,37,38,38,38,38,38,39,39,39,39,39,40,40,40,40,41,41,41,41,41,42,42,42,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,43,44,44,44,44,44,45,45,45,45,45,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,46,47,48,48,48,48,48,48,48,48,48,48,48,48,48,48,48,49,49,50,51,52,53,54,54,54,54,54,54,54,55,56,57,57,57,57,57,57,57,57,57,57,57,58,59,59,59,60,61,61,61,61,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,62,63,64,65,65,65,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66,66],"to":[67,68,68,69,69,69,69,69,69,70,71,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,72,73,73,73,67,67,67,74,75,75,75,75,75,75,76,76,76,76,76,76,76,76,76,76,76,76,76,76,76,77,77,77,77,77,77,78,78,78,78,78,78,79,79,80,80,80,80,80,80,80,80,80,80,80,81,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,71,68,68,68,68,68,68,68,68,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,67,68,68,68,68,68,82,82,82,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,81,75,75,76,76,76,76,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,83,84,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,74,85,85,85,85,85,85,85,85,85,85,85,85,86,81,81,81,81,81,82,82,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,87,72,72,80,88,82,89,90,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,91,75,92,76,76,73,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,93,84,84,84,84,84,84,84,84,84,84,84,84,84,84,84,94,73,73,73,73,73,73,73,73,73,73,73,68,75,75,73,73,73,73,73,73,73,73,73,73,73,73,74,68,67,67,67,67,67,67,75,95,95,95,96,96,96,97,97,81,82,82,82,82,68,68,68,68,80,80,80,80,80,71,71,71,98,98,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,77,77,77,77,77,101,68,77,102,102,71,71,71,71,71,71,71,71,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,75,77,67,67,80,68,68,68,68,68,68,68,68,68,68,68,68,68,68,68,88,88,77,103,74,87,95,95,95,95,95,95,95,67,104,68,68,68,68,68,68,68,68,76,86,86,67,74,74,74,105,84,84,84,84,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,97,80,80,80,80,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77,77],"hscode":["160414","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","304610","306170","306170","306170","306170","306170","306170","306170","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","306170","306170","304610","306170","160414","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","304610","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","160414","160414","160414","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","304610","304610","304610","304610","304610","306170","306170","306170","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","160414","306170","306170","306170","306170","306170","160414","160414","160414","160414","160414","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","304610","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","304610","306170","306170","160414","160414","160414","160414","160414","160414","160414","160414","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","160414","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","304610","304610","304610","304610","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170","306170"],"Month_Yr":["2033-11","2032-08","2032-10","2029-07","2029-08","2029-10","2029-11","2029-12","2030-03","2030-05","2028-02","2028-03","2028-05","2028-07","2029-01","2029-05","2029-08","2029-10","2030-03","2030-04","2030-05","2030-06","2030-07","2030-08","2030-09","2030-10","2030-11","2030-12","2031-01","2031-02","2031-03","2031-04","2031-05","2031-06","2031-07","2031-09","2031-10","2031-12","2032-01","2032-02","2032-04","2032-05","2032-06","2032-07","2032-08","2032-10","2032-11","2032-12","2033-01","2033-02","2033-03","2033-04","2033-05","2033-06","2033-07","2033-08","2033-09","2033-10","2033-11","2033-12","2034-01","2034-02","2034-03","2034-04","2034-05","2034-06","2034-07","2034-08","2034-09","2034-10","2034-11","2034-12","2031-08","2032-03","2033-04","2033-11","2034-02","2029-07","2034-07","2029-05","2029-08","2030-01","2030-04","2030-05","2034-06","2031-03","2031-09","2032-01","2032-09","2033-09","2033-11","2033-12","2034-01","2034-03","2034-04","2034-05","2034-06","2034-07","2034-08","2034-10","2031-07","2032-06","2033-04","2033-05","2033-09","2033-10","2032-12","2033-01","2033-08","2034-04","2034-05","2034-06","2033-06","2033-07","2031-01","2031-08","2032-01","2032-12","2033-01","2033-10","2034-02","2034-05","2034-09","2034-10","2034-12","2029-05","2028-07","2028-08","2028-09","2028-11","2029-02","2029-03","2029-04","2029-05","2029-09","2030-01","2030-09","2030-10","2031-05","2031-06","2031-07","2033-09","2034-01","2034-06","2034-07","2034-08","2034-09","2034-10","2034-11","2034-12","2030-10","2030-11","2030-12","2031-01","2031-03","2031-04","2031-05","2031-06","2031-07","2031-08","2031-09","2031-10","2031-11","2031-12","2032-08","2032-09","2032-10","2032-11","2032-12","2033-01","2033-10","2034-04","2034-05","2034-06","2034-07","2034-08","2029-11","2033-07","2033-08","2034-04","2034-08","2034-10","2029-09","2032-07","2032-10","2028-01","2028-06","2028-07","2029-03","2029-04","2029-06","2029-10","2029-11","2029-12","2032-08","2032-09","2032-10","2033-04","2033-06","2033-07","2033-09","2033-12","2034-01","2034-04","2034-09","2034-10","2034-11","2034-12","2032-10","2032-12","2033-06","2034-05","2034-10","2034-11","2031-07","2031-08","2031-09","2031-11","2032-05","2032-09","2032-10","2032-11","2033-01","2033-04","2033-05","2033-06","2033-07","2033-08","2033-09","2033-10","2033-11","2033-12","2034-01","2034-02","2034-03","2034-04","2034-05","2034-06","2034-07","2034-08","2034-09","2034-10","2034-11","2034-12","2033-01","2034-07","2028-07","2028-09","2028-10","2028-12","2029-01","2029-06","2029-07","2029-08","2029-09","2029-12","2030-02","2030-03","2030-04","2030-06","2030-07","2030-08","2030-09","2030-10","2030-11","2030-12","2031-01","2031-03","2031-05","2031-06","2031-07","2031-08","2034-06","2034-08","2033-01","2033-05","2033-07","2033-09","2033-10","2034-01","2034-05","2034-07","2034-08","2034-10","2034-11","2034-12","2033-01","2032-11","2033-09","2033-10","2033-11","2034-01","2032-10","2032-11","2029-08","2032-10","2032-11","2033-01","2033-02","2033-03","2033-04","2033-06","2033-07","2033-08","2033-09","2033-10","2033-11","2033-12","2034-01","2034-02","2034-03","2034-04","2034-05","2034-06","2034-07","2034-10","2034-11","2034-12","2029-09","2030-03","2033-12","2028-07","2029-09","2034-01","2032-10","2028-01","2028-03","2028-04","2028-05","2028-07","2028-08","2028-09","2028-10","2029-01","2029-02","2029-03","2029-04","2029-05","2029-06","2029-07","2029-08","2029-09","2029-10","2029-11","2029-12","2030-01","2030-03","2030-04","2030-05","2030-06","2030-07","2030-08","2030-09","2030-10","2030-11","2030-12","2031-01","2031-02","2031-05","2031-12","2030-09","2034-10","2032-10","2034-06","2029-03","2030-01","2030-06","2030-07","2030-08","2030-09","2030-10","2030-11","2030-12","2031-01","2031-02","2031-03","2031-04","2031-05","2031-06","2031-07","2031-08","2031-09","2031-10","2032-01","2032-02","2032-03","2032-07","2032-09","2033-03","2034-01","2034-03","2034-08","2034-11","2032-11","2032-12","2033-02","2033-09","2033-10","2034-01","2034-02","2034-03","2034-04","2034-05","2034-06","2034-07","2034-09","2034-10","2034-11","2028-08","2032-09","2032-10","2032-12","2033-06","2033-07","2033-08","2033-09","2033-10","2034-01","2034-06","2034-07","2032-12","2032-10","2034-08","2030-01","2030-06","2030-11","2030-12","2031-01","2031-08","2032-11","2032-12","2033-10","2033-11","2033-12","2034-02","2032-10","2028-08","2033-04","2034-05","2034-07","2034-08","2034-10","2034-11","2032-12","2028-04","2028-05","2029-01","2030-08","2030-11","2031-09","2031-11","2032-01","2028-11","2029-09","2029-10","2029-12","2030-01","2031-08","2032-07","2032-08","2033-01","2032-12","2034-07","2034-08","2034-09","2034-11","2032-10","2033-08","2033-10","2029-11","2029-12","2028-03","2028-04","2028-05","2028-06","2028-07","2030-03","2030-04","2030-05","2030-06","2030-07","2030-08","2030-09","2030-10","2030-11","2030-12","2028-08","2028-09","2028-10","2028-11","2028-12","2029-02","2029-03","2029-09","2031-02","2031-03","2031-04","2031-05","2031-06","2031-07","2034-11","2034-12","2033-04","2033-07","2033-08","2033-10","2033-11","2030-09","2029-08","2030-09","2031-03","2031-04","2032-09","2032-10","2032-11","2033-04","2033-10","2033-11","2033-12","2034-01","2029-07","2030-08","2030-09","2030-10","2030-12","2031-07","2031-08","2031-11","2032-08","2032-09","2032-10","2033-08","2033-09","2033-12","2034-07","2034-08","2034-09","2034-10","2034-11","2034-12","2034-11","2034-08","2033-01","2034-10","2034-05","2031-08","2031-09","2031-10","2031-11","2031-12","2032-03","2032-05","2032-07","2032-08","2032-09","2032-10","2032-11","2032-12","2033-03","2033-09","2033-12","2034-01","2030-01","2034-05","2034-11","2033-01","2029-08","2029-10","2029-12","2030-01","2030-02","2030-03","2030-04","2030-07","2034-05","2032-04","2032-08","2032-09","2033-01","2033-03","2033-04","2033-07","2033-09","2032-08","2032-05","2033-09","2034-03","2029-08","2029-10","2030-10","2031-11","2032-06","2032-11","2033-10","2034-07","2028-09","2028-10","2028-11","2029-01","2029-04","2029-05","2029-06","2029-08","2031-11","2032-04","2032-05","2032-06","2032-07","2032-08","2032-09","2032-10","2032-11","2032-12","2033-03","2033-04","2033-05","2033-06","2033-07","2033-08","2033-09","2033-10","2034-11","2028-03","2034-05","2032-08","2032-09","2032-10","2028-06","2028-07","2028-08","2028-09","2028-10","2028-11","2028-12","2029-01","2029-02","2029-03","2029-04","2029-05","2029-06","2029-07","2029-08","2029-09","2029-10","2029-11","2029-12","2030-01","2030-05","2030-09","2030-11","2031-07","2031-08","2031-09","2031-10","2031-11","2031-12","2032-01","2032-04","2032-05","2032-07","2032-08","2032-09","2032-10","2032-11","2032-12","2033-01","2033-02","2033-04","2033-05","2033-06","2033-07","2033-08","2033-09","2033-10","2033-11","2033-12","2034-01","2034-02","2034-03","2034-04","2034-05","2034-06","2034-07","2034-08","2034-09"],"Year":[2033,2032,2032,2029,2029,2029,2029,2029,2030,2030,2028,2028,2028,2028,2029,2029,2029,2029,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2031,2031,2031,2031,2031,2031,2031,2031,2031,2031,2032,2032,2032,2032,2032,2032,2032,2032,2032,2032,2033,2033,2033,2033,2033,2033,2033,2033,2033,2033,2033,2033,2034,2034,2034,2034,2034,2034,2034,2034,2034,2034,2034,2034,2031,2032,2033,2033,2034,2029,2034,2029,2029,2030,2030,2030,2034,2031,2031,2032,2032,2033,2033,2033,2034,2034,2034,2034,2034,2034,2034,2034,2031,2032,2033,2033,2033,2033,2032,2033,2033,2034,2034,2034,2033,2033,2031,2031,2032,2032,2033,2033,2034,2034,2034,2034,2034,2029,2028,2028,2028,2028,2029,2029,2029,2029,2029,2030,2030,2030,2031,2031,2031,2033,2034,2034,2034,2034,2034,2034,2034,2034,2030,2030,2030,2031,2031,2031,2031,2031,2031,2031,2031,2031,2031,2031,2032,2032,2032,2032,2032,2033,2033,2034,2034,2034,2034,2034,2029,2033,2033,2034,2034,2034,2029,2032,2032,2028,2028,2028,2029,2029,2029,2029,2029,2029,2032,2032,2032,2033,2033,2033,2033,2033,2034,2034,2034,2034,2034,2034,2032,2032,2033,2034,2034,2034,2031,2031,2031,2031,2032,2032,2032,2032,2033,2033,2033,2033,2033,2033,2033,2033,2033,2033,2034,2034,2034,2034,2034,2034,2034,2034,2034,2034,2034,2034,2033,2034,2028,2028,2028,2028,2029,2029,2029,2029,2029,2029,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2031,2031,2031,2031,2031,2031,2034,2034,2033,2033,2033,2033,2033,2034,2034,2034,2034,2034,2034,2034,2033,2032,2033,2033,2033,2034,2032,2032,2029,2032,2032,2033,2033,2033,2033,2033,2033,2033,2033,2033,2033,2033,2034,2034,2034,2034,2034,2034,2034,2034,2034,2034,2029,2030,2033,2028,2029,2034,2032,2028,2028,2028,2028,2028,2028,2028,2028,2029,2029,2029,2029,2029,2029,2029,2029,2029,2029,2029,2029,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2031,2031,2031,2031,2030,2034,2032,2034,2029,2030,2030,2030,2030,2030,2030,2030,2030,2031,2031,2031,2031,2031,2031,2031,2031,2031,2031,2032,2032,2032,2032,2032,2033,2034,2034,2034,2034,2032,2032,2033,2033,2033,2034,2034,2034,2034,2034,2034,2034,2034,2034,2034,2028,2032,2032,2032,2033,2033,2033,2033,2033,2034,2034,2034,2032,2032,2034,2030,2030,2030,2030,2031,2031,2032,2032,2033,2033,2033,2034,2032,2028,2033,2034,2034,2034,2034,2034,2032,2028,2028,2029,2030,2030,2031,2031,2032,2028,2029,2029,2029,2030,2031,2032,2032,2033,2032,2034,2034,2034,2034,2032,2033,2033,2029,2029,2028,2028,2028,2028,2028,2030,2030,2030,2030,2030,2030,2030,2030,2030,2030,2028,2028,2028,2028,2028,2029,2029,2029,2031,2031,2031,2031,2031,2031,2034,2034,2033,2033,2033,2033,2033,2030,2029,2030,2031,2031,2032,2032,2032,2033,2033,2033,2033,2034,2029,2030,2030,2030,2030,2031,2031,2031,2032,2032,2032,2033,2033,2033,2034,2034,2034,2034,2034,2034,2034,2034,2033,2034,2034,2031,2031,2031,2031,2031,2032,2032,2032,2032,2032,2032,2032,2032,2033,2033,2033,2034,2030,2034,2034,2033,2029,2029,2029,2030,2030,2030,2030,2030,2034,2032,2032,2032,2033,2033,2033,2033,2033,2032,2032,2033,2034,2029,2029,2030,2031,2032,2032,2033,2034,2028,2028,2028,2029,2029,2029,2029,2029,2031,2032,2032,2032,2032,2032,2032,2032,2032,2032,2033,2033,2033,2033,2033,2033,2033,2033,2034,2028,2034,2032,2032,2032,2028,2028,2028,2028,2028,2028,2028,2029,2029,2029,2029,2029,2029,2029,2029,2029,2029,2029,2029,2030,2030,2030,2030,2031,2031,2031,2031,2031,2031,2032,2032,2032,2032,2032,2032,2032,2032,2032,2033,2033,2033,2033,2033,2033,2033,2033,2033,2033,2033,2034,2034,2034,2034,2034,2034,2034,2034,2034],"weights":[11,11,14,12,12,15,12,15,11,13,11,14,11,11,11,11,13,15,11,11,14,14,16,14,12,16,20,11,16,18,20,16,15,12,13,11,13,11,18,11,11,12,12,13,11,14,16,13,23,13,19,15,22,16,17,21,19,17,14,14,16,12,21,18,20,17,17,17,18,18,21,20,12,11,11,12,12,11,12,13,11,11,11,12,11,11,11,12,13,11,11,12,12,11,12,18,12,14,12,13,11,11,13,12,12,11,13,14,11,11,16,14,11,12,12,17,13,12,11,11,13,11,11,12,11,12,12,14,17,12,12,11,13,15,12,11,14,11,12,12,12,11,14,12,13,14,12,16,13,11,12,14,15,11,12,15,12,12,14,14,11,18,13,12,11,15,12,13,12,11,13,12,12,12,13,13,11,12,11,13,12,16,11,13,13,12,12,12,13,11,13,12,12,12,14,11,11,13,14,13,14,11,11,12,13,12,11,14,12,11,11,12,19,12,15,12,11,11,13,12,13,12,13,12,17,14,18,13,14,18,18,14,16,14,13,17,20,15,19,16,14,19,15,12,14,13,11,14,13,14,11,14,15,16,15,11,11,14,12,18,12,14,14,13,12,15,13,11,11,13,14,12,11,13,13,12,11,11,12,13,14,12,12,12,11,12,13,11,12,11,12,13,11,11,12,12,12,17,15,15,12,14,19,14,16,11,13,16,19,15,19,12,16,12,11,14,11,12,11,12,12,12,12,11,11,17,12,13,12,14,12,12,17,16,13,15,14,15,14,12,19,17,20,15,17,19,18,15,16,13,15,12,13,14,16,17,12,12,12,11,12,14,12,11,12,11,12,14,12,11,15,15,12,16,12,14,11,13,12,12,12,14,13,14,12,11,11,12,12,11,13,11,11,11,14,11,13,12,13,16,15,13,12,14,14,12,15,13,11,14,13,13,11,14,18,13,11,16,12,12,11,14,11,12,17,12,15,11,11,11,11,11,14,13,14,11,11,12,12,11,11,13,11,12,11,11,11,11,11,11,12,11,14,13,12,12,11,11,11,12,12,12,11,12,16,12,11,11,11,14,13,11,14,14,14,18,12,12,18,12,13,16,14,14,15,16,17,17,16,18,13,11,11,12,13,12,12,15,11,11,15,13,14,12,12,18,18,11,11,14,13,12,11,15,11,12,16,12,12,11,13,14,17,11,11,11,13,11,15,18,11,14,14,11,14,13,16,16,12,14,12,11,12,12,13,16,12,12,12,11,13,13,13,11,14,16,12,16,13,11,11,12,12,11,11,12,13,12,12,13,11,14,11,14,13,12,16,12,11,11,11,14,14,11,11,11,11,11,12,14,11,12,14,13,11,13,14,14,15,11,13,11,14,16,15,16,16,12,15,16,19,17,18,14,16,14,13,19,22,21,18,11,11,11,11,12,11,16,15,17,18,15,16,17,15,13,18,18,19,14,13,17,17,17,20,13,11,16,14,14,12,16,18,21,14,16,14,12,11,14,16,12,19,15,17,15,13,11,14,12,14,15,18,21,20,18,23,19,23,23,21,17,19,25,17]},"nodesToDataframe":true,"edgesToDataframe":true,"options":{"width":"100%","height":"100%","nodes":{"shape":"dot","physics":false},"manipulation":{"enabled":false},"edges":{"arrows":"to","smooth":{"enabled":true,"type":"curvedCW"}},"physics":{"stabilization":false},"layout":{"randomSeed":123}},"groups":["Adair Salmon ОАО Family","Adriatic Tuna AS Solutions","Ancla de Oro N.V.","Ancla del Este AS","Aqua Adventures Carriers Seabed","Aqua Azul LC International","Bahía del Sol Kga Consulting","Balkan Cat ОАО Transport","Baltic Catch Oyj Shipping","Baltic Sprat Pic Freight ","Blue Horizon Family &","Cape Verde Islands  Sp Transportation","Chuan gou  N.V. Delivery","Coral del Mar Incorporated","Coral del Mar Logistics","Costa del Mar Ges.m.b.H. Marine biology","Daniel Ferry N.V. Transit","Danish Plaice BV Investment","Danish Plaice Ltd. Liability Co Logistics","Dutch Eel AB Holdings","Dutch Mussels Tidepool ОАО Express","Estrella de la Costa SRL","French  Seabed S.p.A. Forwading","Greek Sea Bass Company Express","Irish Scallop Corporation Transport","Isla del Mar Ltd. Liability Co Enterprises","Kerala  Market - Ges.m.b.H. Cargo","Lake Tana  & Son's","Manipur  Market Corporation Cargo","Mar de la Costa Sagl","Mar de la Felicidad NV","Mar de la Luz Ltd. Liability Co","Mar de la Vida S.p.A.","Mar del Oeste Cruise ship","Marine Masterminds SE Saltwater","Marine Muse Ltd. Corporation Catfish","Neptune's Harvest A/S Hijiki","Neptune's Realm NV Navigation","Náutica del Sol Brothers","Ocean Emporium Pic Holdings","OceanSavor Surf Limited Liability Company Logistics","Oceanfront Oases Co Shipping","OceanicOrigin Foods Co Consulting","Ola de la Costa Ges.m.b.H.","Olas del Mar N.V.","Playa de Arena OJSC Express","Playa de Arena SRL","Playa del Mar Corporation","Rift Valley fishery Sagl","Saltwater Sanctuary Company Cargo","Sea Striders ОАО Industrial","Seaside Strolls A/S Marine ecology","Seaside Summit SE Merchants","Shou gan  Oyj Overseas","South Ltd. Liability Co","Spanish Anchovy OJSC International","Spanish Shrimp A/S Marine","Surf and Sand Ltd. Liability Co Worldwide","Tamil Nadu s Barge","The Salty Dog LLC","Tripura  Market S.A. de C.V.","Tristen Jetty Company Solutions","Turkish Sword NV Ocean","Uttarakhand   Tidepool Oyj International","Water Wonders Plc Cargo","Wave Watchers Ltd. Liability Co","hǎi dǎn Corporation Wharf","Caracola del Sol Services","Pao gan SE Seal","Ancla del Este Merchants","Caracola del Este Ltd. Liability Co","Arunachal Pradesh s Brine","Mar del Placer Manatee","The Sea Turtle GmbH & Co. KG","Costa de la Felicidad Shipping","Madagascar Coast  AG Freight ","Mar del Este CJSC","Orange River   Incorporated Shipping","-564","Olas del Sur Ltd","AquaDelight N.V. Coral Reef","SeaBass &  SE Tanker","Arena del Mar Marine Marine biology","Kong zhong diao yu  Ges.m.b.H.","páng xiè S.A. de C.V. Line","Pao gan LC Freight ","Volga River LLC Enterprises","Himachal Pradesh  BV Holdings","Caracola Azul Ltd. Corporation","Spanish Anchovy SE Marine","Yu xian  SRL Industrial","Isla del Tesoro GmbH & Co. KG Chart","Sea Breeze Corporation Marine sanctuary","Water Wonders AG Transport","Lake Tanganyika  Inc Jetty","Isla del Mar NV Forwading","Rybachit Sagl and Son's","Coral Cove BV Delivery","Panope Limited Liability Company","Sea Breezes GmbH & Co. KG Shark","Caracola del Mar A/S Line","Mar del Norte BV","Tripura  Pier N.V. Solutions","Assam  Market Incorporated Tanker","Saltwater Supreme ОАО Forwading"],"width":null,"height":null,"idselection":{"enabled":true,"style":"width: 150px; height: 26px","useLabels":true,"main":"Select by id"},"byselection":{"enabled":false,"style":"width: 150px; height: 26px","multiple":false,"hideColor":"rgba(200,200,200,0.5)","highlight":false},"main":null,"submain":null,"footer":null,"background":"rgba(0, 0, 0, 0)","igraphlayout":{"type":"square"},"highlight":{"enabled":true,"hoverNearest":false,"degree":1,"algorithm":"all","hideColor":"rgba(200,200,200,0.5)","labelOnly":true},"collapse":{"enabled":false,"fit":false,"resetHighlight":true,"clusterOptions":null,"keepCoord":true,"labelSuffix":"(cluster)"}},"evals":[],"jsHooks":[]}</script>
</div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>